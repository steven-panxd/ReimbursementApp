<div class="min-vh-100 d-flex flex-column bg-light">
  <!-- Header -->
  <header class="bg-black py-3 px-4 d-flex justify-content-between align-items-center">
    <h1 class="text-warning m-0 fs-3">IOWA</h1>
    <span class="text-white d-none d-md-inline">Reimbursement Management</span>
  </header>

  <!-- List Section -->
  <main class="flex-grow-1 d-flex justify-content-center align-items-start py-5 px-2">
    <div class="bg-body-secondary p-4 rounded-4 shadow-sm w-100" style="max-width: 900px">
      <h3 class="fw-bold text-center mb-4">Submitted Requests</h3>

      <div class="table-responsive">
        <table class="table table-bordered table-hover align-middle bg-white">
          <thead class="table-light">
            <tr>
              <th scope="col">Name</th>
              <th scope="col">IOWA ID</th>
              <th scope="col">Date</th>
              <th scope="col">Amount</th>
              <th scope="col">Description</th>
              <th scope="col">Receipt</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let request of reimbursements">
              <td>
                <span [title]="request.name">
                  {{ request.name.length > 30 ? (request.name | slice:0:30) + '...' : request.name }}
                </span>
              </td>
              <td>
                <span [title]="request.iowaId">
                  {{ request.iowaId.length > 30 ? (request.iowaId | slice:0:30) + '...' : request.iowaId }}
                </span>
              </td>
              <td>
                <span [title]="request.date">
                  {{ request.date | date:'shortDate' }}
                </span>
              </td>
              <td>
                <span [title]="request.amount.toFixed(2)">
                  ${{ request.amount.toFixed(2) }}
                </span>
              </td>
              <td>
                <span [title]="request.description">
                  {{ request.description.length > 60 ? (request.description | slice:0:60) + '...' : request.description }}
                </span>
              </td>
              <td>
                <a [href]="request.receiptUrl" target="_blank" class="btn btn-sm btn-outline-primary">View</a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Pagination -->
      <nav *ngIf="totalPages > 1" class="mt-4 d-flex justify-content-center">
        <ul class="pagination">
          <li class="page-item" [class.disabled]="currentPage === 1">
            <button class="page-link" (click)="goToPage(currentPage - 1)">&laquo;</button>
          </li>

          <li *ngFor="let page of [].constructor(totalPages); let i = index"
              class="page-item" [class.active]="currentPage === (i + 1)">
            <button class="page-link" (click)="goToPage(i + 1)">{{ i + 1 }}</button>
          </li>

          <li class="page-item" [class.disabled]="currentPage === totalPages">
            <button class="page-link" (click)="goToPage(currentPage + 1)">&raquo;</button>
          </li>
        </ul>
      </nav>
    </div>
  </main>

  <!-- Footer -->
  <footer class="text-center text-muted py-3 small">
    <p class="mb-0">Â© 2025 Copyright UIOWA. All rights reserved</p>
  </footer>
</div>